!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ibtree",[],e):"object"==typeof exports?exports.ibtree=e():t.ibtree=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function o(t){var e=t||{};this.order=p.ORDER,this.isSet=void 0===e.isSet?!1:e.isSet,this.extractor=e.extractor,this.comparator=e.comparator||_,this.root=e.root||new f.Leaf({order:this.order}),this.size=e.size||0,this.height=e.height||0,this.ownerID=e.ownerID}function s(t,e,r){var n=e||{},i=p.ORDER,o=1,s=p.LEAF_MIN_CHILDREN+o,h=p.LEAF_MAX_CHILDREN,a=p.INTERNAL_MIN_CHILDREN,u=p.INTERNAL_MAX_CHILDREN,l=(0,y.boundedChunk)(s,h,t),c=(0,y.fastMap)(function(t){var e=void 0;e=r?(0,y.fastMap)(function(t){return n.extractor?n.extractor(t[0]):t[0]},t):n.extractor?(0,y.fastMap)(n.extractor,t):t;var o=r?(0,y.fastMap)(function(t){return t[1]},t):t;return new f.Leaf({order:i,keys:e,children:o})},l),d=0,v=null,g=!1;if(1===c.length)v=c[0];else{for(var I=c,_=function(){var t=(0,y.boundedChunk)(a+o,u,I),e=!0,r=(0,y.fastMap)(function(t){var r=g?function(t){var e=t.keys[0];return t.keys=(0,y.tail)(null,t.keys),e}:function(t){return t.keys[0]},n=e?(0,y.tail)(null,t):t,o=(0,y.fastMap)(r,n);return e=!1,new f.InternalNode({order:i,keys:o,children:t})},t);return 0===r.length?"break":(I=r,g=!0,void d++)};I.length>1;){var m=_();if("break"===m)break}v=I[0]}var k=this;return new k((0,y.extend)({},n,{root:v,size:t.length,height:d}))}function h(t,e){return s.call(this,t,e,!0)}function a(t,e){return s.call(this,t,e,!1)}function u(t){var e=t||{};e.isSet=!0,o.call(this,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.BTMap=e.defaultComparator=void 0,e.BPlusTree=o,e.BTSet=u;var l=r(1),c=n(l),f=r(2),d=r(5),v=n(d),y=r(4),p=r(3),g=c["default"].eq,I={},_=e.defaultComparator=function(t,e){return t===e?0:e>t?-1:1},m=function(t,e){return t.children[e]},k=function(t,e){return t.keys[e]},w=function(t,e){return[k(t,e),m(t,e)]};(0,y.extend)(o.prototype,{has:function(t){return this.search(this.comparator,t)!==I},add:function(t){return this.set(t,t)},get:function(t){var e=this.search(this.comparator,t);return e===I?void 0:e},clear:function(){return new this.constructor({comparator:this.comparator,extractor:this.extractor})},set:function(t,e){var r=this.comparator,n=this.extractor?this.extractor(t):t,i=(0,y.makeRef)(!1),o=this.root.insert(r,this.ownerID,i,n,e);if(!(0,y.isSet)(i))return this;var s=void 0,h=!1,a=!!this.ownerID;if(3===o.length){h=!0;var u=o,l=u[0],c=u[1],d=u[2],v=(0,y.tagOwnerID)([l],this.ownerID),p=(0,y.tagOwnerID)([c,d],this.ownerID);s=new f.InternalNode({order:this.order,keys:v,children:p})}else s=o;var g=h?this.height+1:this.height,I=this.size+1;return a?(this.height=g,this.size=I,this.root=s,this._didAlter=!0,this):new this.constructor({extractor:this.extractor,comparator:this.comparator,root:s,height:g,size:I,ownerID:this.ownerID})},"delete":function(t){var e=(0,y.makeRef)(!1),r=this.root["delete"](this.comparator,this.ownerID,e,t);if(!(0,y.isSet)(e))return this;var n=!1;if(r.size<p.MIN_ROOT_CHILDREN){var i=r.constructor===f.Leaf;i||(r=r.children[0],n=!0)}var o=!!this.ownerID,s=void 0,h=n?this.height-1:this.height,a=this.size-1;return o?(s=this,this.root=r,this.height=h,this.size=a,this._didAlter=!0):s=new this.constructor({comparator:this.comparator,extractor:this.extractor,root:r,height:h,size:a,ownerID:this.ownerID}),s},asMutable:function(){return this.ownerID?this:new this.constructor({comparator:this.comparator,extractor:this.extractor,root:this.root,height:this.height,size:this.size,ownerID:(0,y.makeOwnerID)()})},asImmutable:function(){return this.ownerID?new this.constructor({comparator:this.comparator,extractor:this.extractor,root:this.root,height:this.height,size:this.size}):this},withMutations:function(t){var e=this.asMutable();return t(e),e._didAlter?e.asImmutable():this},_baseBetween:function(t,e){if(0===this.size)return(0,y.getEmptyIterator)();var r=(0,y.normalizeRangeSpec)(e),n=this.extractor?this.extractor(r.from):r.from,i=this.extractor?this.extractor(r.to):r.to,o=this.comparator(n,i)>0,s=o,h=!s,a=this.findPath(n,s,r.fromInclusive),u=this.findPath(i,h,r.toInclusive);if(null===a||null===u)return(0,y.getEmptyIterator)();var l=a.compareTo(u),c=0!==l&&l>0==!o;return c?(0,y.getEmptyIterator)():this._iteratorFromTo(t,a,u,o)},_pathNodes:function(t){for(var e=new Array(t.length),r=this.root,n=0;n<t.length;n++)e[n]=r,r=r.children[t.get(n)];return e},_nextPath:function(t){var e=this._pathNodes(t),r=e.length-1;if(t.get(r)<e[r].children.length-1)return t.increment(r);for(r--;r>=0&&t.get(r)===e[r].children.length-1;)r--;return 0>r?null:t.increment(r)},_prevPath:function(t){if(t.equals(v["default"].EMPTY_PATH))return null;for(var e=this._pathNodes(t),r=t.length-1;0===t.get(r);)r--;var n=t.set(r,t.get(r)-1),i=e[r].children[n.get(r)];for(r++;r<t.length;r++){var o=i.children.length;n=n.set(r,o-1),i=i.children[o-1]}return n},_iterateAllWithExtractFn:function(t){return 0===this.size?(0,y.getEmptyIterator)():this._iteratorFromTo(t,this._getLeftmostPath(),this._getRightmostPath())},_getLeafFromPath:function(t){for(var e=this.height,r=0,n=this.root;r!==e;)n=n.children[t.get(r++)];return n},_getRightmostPath:function(){if(0===this.size)return null;for(var t=[],e=this.root,r=0,n=this.height;r!==n+1;){var i=e.children.length-1;t.push(i),e=e.children[i],r++}return v["default"].from(t)},_getLeftmostPath:function(){return 0===this.size?null:new v["default"](p.SHIFT_LEN,this.height+1)},_iteratorFromTo:function(t,e,r,n){var i=this,o=n?this._prevPath.bind(this):this._nextPath.bind(this),s=this.height,h=e,a=void 0,u=!1,l={next:function(){var e=null!==h&&h.equals(r);if(!(null===h||e&&u)){var l=h.get(s),c=a||i._getLeafFromPath(h);e?u=!0:n&&l>0?h=h.decrement(s):!n&&l<c.children.length-1?h=h.increment(s):(h=o(h),a=void 0);var f=t(c,l);return{value:f}}return{done:!0}}};return l[p.ITERATOR_PROPNAME]=function(){return l},l},findPath:function(t,e,r){if(0===this.size)return null;for(var n=this.comparator,i=this.root,o=this.height,s=new Array(o+1),h=0,a=i;o>h;h++){var u=i.childIdxForKey(n,t);s[h]=u,a=i,i=i.children[u]}var l=a,f=(e?"lt":"gt")+(r?"e":""),d=c["default"][f],y=d(i.keys,t,n);if(y===i.keys.length)if(e)s[h]=y-1;else{s[h-1]++;var p=s[h-1]<l.children.length;if(!p)return null;if(i=l.children[s[h-1]],!(i.keys[0]>=t))return null;s[h]=0}else if(-1===y)if(e){s[h-1]--;var g=s[h-1]>=0;if(!g)return null;if(i=l.children[s[h-1]],!(i.keys[i.keys.length-1]<=t))return null;s[h]=i.keys.length-1}else s[h]=0;else s[h]=y;return v["default"].from(s)},findLeaf:function(t,e){for(var r=this.root,n=this.height,i=0;n>i;i++){var o=r.childIdxForKey(t,e);r=r.children[o]}return r},search:function(t,e){var r=this.extractor?this.extractor(e):e,n=this.findLeaf(t,r),i=g(n.keys,r,t);return-1===i?I:n.children[i]},visit:function(t){for(var e=[this.root];e.length;){var r=e.shift();t(r),r.constructor!==f.Leaf&&r.children&&e.push.apply(e,i(r.children))}}});var E=function(t){return function(){if(0===arguments.length)return this._iterateAllWithExtractFn(t);if(1===arguments.length){var e=arguments[0];return this._baseBetween(t,e)}var r={from:arguments[0],to:arguments[1]};return this._baseBetween(t,r)}};o.prototype.values=E(m),o.prototype.valueRange=o.prototype.values,o.prototype.entries=E(w),o.prototype.entryRange=o.prototype.entries,o.prototype.keys=E(k),o.prototype.keyRange=o.prototype.keys,o.from=h,o.prototype[p.ITERATOR_PROPNAME]=function(){return this.isSet?this.values():this.entries()};var R=e.BTMap=o;u.from=a,u.prototype=o.prototype,e["default"]=R},function(t,e){"use strict";function r(t,e,r,n){var i=e.length;if(0===i||!(t?n(e[0],r)<=0:n(e[0],r)<0))return-1;for(var o=0,s=i;s-o>1;){var h=s+o>>>1,a=e[h];(t?n(a,r)<=0:n(a,r)<0)?o=h:s=h}return o}function n(t,e,r,n){var i=e.length;if(0===i||!(t?n(e[i-1],r)>=0:n(e[i-1],r)>0))return i;for(var o=-1,s=i-1;s-o>1;){var h=s+o>>>1,a=e[h];(t?n(a,r)>=0:n(a,r)>0)?s=h:o=h}return s}function i(t,e,r){var n=o(t,e,r);return-1!==n&&0===r(t[n],e)?n:-1}Object.defineProperty(e,"__esModule",{value:!0}),e.baseGte=n,e.eq=i;var o=e.lte=r.bind(null,!0),s=e.lt=r.bind(null,!1),h=e.gte=n.bind(null,!0),a=e.gt=n.bind(null,!1);e["default"]={lt:s,gt:a,lte:o,gte:h,eq:i}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=t||{};this.keys=e.keys||[],this.children=e.children||[],this.order=u.ORDER,this.ownerID=e.ownerID}function o(t){i.call(this,t)}function s(t){i.call(this,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.InternalNode=e.Leaf=e.Node=e.DELETION_STRATEGIES=void 0;var h=r(1),a=n(h),u=r(3),l=r(4),c=a["default"].eq,f=function(t,e,r){return a["default"].gte(r,e,t)};Object.defineProperty(i.prototype,"size",{enumerable:!0,get:function(){return this.children.length}}),(0,l.extend)(i.prototype,{satisfiesMinChildren:function(){return this.children.length>=this.minChildren},satisfiesMaxChildren:function(){return this.children.length<=this.maxChildren},tail:function(t){return new this.constructor({order:this.order,keys:(0,l.tail)(t,this.keys),children:(0,l.tail)(t,this.children),ownerID:t})},init:function(t){return new this.constructor({order:this.order,keys:(0,l.init)(t,this.keys),children:(0,l.init)(t,this.children),ownerID:t})},shouldSplit:function(){return!this.satisfiesMaxChildren()}}),o.prototype=Object.create(i.prototype),o.prototype.constructor=o,(0,l.extend)(o.prototype,{maxChildren:u.LEAF_MAX_CHILDREN,minChildren:u.LEAF_MIN_CHILDREN,"delete":function(t,e,r,n){var i=c(this.keys,n,t);if(-1===i)return this;(0,l.setRef)(r);var s=void 0,h=(0,l.withoutIdx)(e,i,this.keys),a=(0,l.withoutIdx)(e,i,this.children);return(0,l.canMutate)(this,e)?(s=this,s.keys=h,s.children=a):s=new o({order:this.order,keys:(0,l.withoutIdx)(e,i,this.keys),children:(0,l.withoutIdx)(e,i,this.children),ownerID:e}),s},merge:function(t){return new o({order:this.order,keys:this.keys.concat(t.keys),children:this.children.concat(t.children)})},idxForKey:function(t,e){return a["default"].gte(this.keys,e,t)},insert:function(t,e,r,n,i){var s=this.idxForKey(t,n),h=this.keys[s]===n,a=void 0,u=void 0;if(h){var c=this.children[s];if(c===i)return this;a=(0,l.set)(e,s,n,this.keys),u=(0,l.set)(e,s,i,this.children)}else a=(0,l.insert)(e,s,n,this.keys),u=(0,l.insert)(e,s,i,this.children);(0,l.setRef)(r);var f=void 0;return(0,l.canMutate)(this,e)?(f=this,this.keys=a,this.children=u):f=new o({order:this.order,keys:a,children:u,ownerID:e}),f.shouldSplit()?f.split(e):f},split:function(t){var e=(0,l.median)(this.keys.length),r=this.keys[e],n=(0,l.splitAt)(t,e,this.keys),i=n[0],s=n[1],h=(0,l.splitAt)(t,e,this.children),a=h[0],u=h[1],c=new o({order:this.order,keys:s,children:u,ownerID:t}),f=void 0;return(0,l.canMutate)(this,t)?(f=this,f.keys=i,f.children=a):f=new o({order:this.order,keys:i,children:a,ownerID:t}),[r,f,c]},smallestKey:function(){return this.keys[0]},stealFirstKeyFrom:function(t,e){var r=e.keys[0],n=e.children[0];this.keys=this.keys.concat(r),this.children=this.children.concat(n);var i=e.tail(t);return[this,i]},giveLastKeyTo:function(t,e){var r=this.keys[this.keys.length-1],n=this.children[this.children.length-1];e.keys=(0,l.unshift)(t,r,e.keys),e.children=(0,l.unshift)(t,n,e.children);var i=this.init(t);return[i,e]}});var d="REPLACE",v="STEAL_KEY_FROM_LEFT",y="STEAL_KEY_FROM_RIGHT",p="MERGE";e.DELETION_STRATEGIES={STEAL_KEY_FROM_LEFT:v,STEAL_KEY_FROM_RIGHT:y,MERGE:p};s.prototype=Object.create(i.prototype),s.prototype.constructor=s,(0,l.extend)(s.prototype,{maxChildren:u.INTERNAL_MAX_CHILDREN,minChildren:u.INTERNAL_MIN_CHILDREN,merge:function(t){var e=(0,l.unshift)(null,t.smallestKey(),t.keys),r=new s({order:this.order,keys:this.keys.concat(e),children:this.children.concat(t.children)});return r},chooseComplexDeletionStrategy:function(t,e){if(e.satisfiesMinChildren())return{strategy:d};var r=t+1<this.children.length,n=t-1>=0,i=e.constructor===o,s={size:0},h=r?this.children[t+1]:s,a=n?this.children[t-1]:s,l=i?u.LEAF_MIN_CHILDREN:u.INTERNAL_MIN_CHILDREN,c=void 0;return h.size>=a.size?(c=h.size<=l?p:y,{leftNode:e,rightNode:h,leftNodeIdx:t,strategy:c}):(c=a.size<=l?p:v,{leftNode:a,rightNode:e,leftNodeIdx:t-1,strategy:c})},"delete":function(t,e,r,n){var i=this.childIdxForKey(t,n),o=this.children[i],s=o["delete"](t,e,r,n);if(!(0,l.isSet)(r))return this;var h=this.chooseComplexDeletionStrategy(i,s),a=h.strategy;if(a===d)return this.withReplacedChildren(e,i,[s]);var u=h.leftNode,c=h.rightNode,f=h.leftNodeIdx;if(a===p)return this.withMergedChildren(e,f,u,c);var g=void 0,I=void 0;if(a===y){var _=u.stealFirstKeyFrom(e,c);g=_[0],I=_[1]}else if(a===v){var m=u.giveLastKeyTo(e,c);g=m[0],I=m[1]}var k=this.withReplacedChildren(e,f,[g,I]),w=f,E=I.smallestKey();return k.keys=(0,l.set)(e,w,E,k.keys),k},withMergedChildren:function(t,e,r,n){var i=r.merge(n),o=e,h=(0,l.withoutIdx)(t,o,this.keys),a=0===e;a||(h[e-1]=i.smallestKey());var u=(0,l.arrayClone)(this.children);u.splice(e,1),u[e]=i;var c=new s({order:this.order,keys:h,children:u,ownerID:t});return c},childIdxForKey:function(t,e){return a["default"].lte(this.keys,e,t)+1},stealFirstKeyFrom:function(t,e){var r=e.children[0];return this.keys=this.keys.concat(e.smallestKey()),this.children=this.children.concat(r),[this,e.tail(t)]},giveLastKeyTo:function(t,e){var r=(0,l.last)(this.children);return e.keys=(0,l.unshift)(t,e.smallestKey(),e.keys),e.children=(0,l.unshift)(t,r,e.children),[this.init(t),e]},withReplacedChildren:function(t,e,r){for(var n=(0,l.canMutate)(this.children,t)?this.children:(0,l.arrayClone)(this.children),i=0;i<r.length;i++)n[e+i]=r[i];return(0,l.canMutate)(this,t)?(this.children=n,this):new s({order:this.order,keys:this.keys,children:n,ownerID:t})},smallestKey:function(){for(var t=this;t.constructor!==o;)t=t.children[0];return t.keys[0]},split:function(t){var e=(0,l.median)(this.keys.length)-1,r=(0,l.takeIdxAndSplit)(t,e,this.keys),n=r[0],i=r[1],o=r[2],h=(0,l.splitAt)(t,e+1,this.children),a=h[0],u=h[1],c=void 0;(0,l.canMutate)(this,t)?(c=this,c.keys=n,c.children=a):c=new s({order:this.order,keys:n,children:a,ownerID:t});var f=new s({order:this.order,keys:o,children:u,ownerID:t});return[i,c,f]},withSplitChild:function(t,e,r,n,i){var o=f(t,r,this.keys),h=(0,l.insert)(e,o,r,this.keys),a=(0,l.insert)(e,o+1,i,this.children);return a[o]=n,(0,l.canMutate)(this,e)?(this.keys=h,this.children=a,this):new s({order:this.order,keys:h,children:a,ownerID:e})},insert:function(t,e,r,n,i){var o=this.childIdxForKey(t,n),s=this.children[o],h=s.insert(t,e,r,n,i);if(!(0,l.isSet)(r))return this;if(3===h.length){var a=h,u=a[0],c=a[1],f=a[2],d=this.withSplitChild(t,e,u,c,f);return d.shouldSplit()?d.split(e):d}return this.withReplacedChildren(e,o,[h])}}),e.Node=i,e.Leaf=o,e.InternalNode=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(e.MIN_ROOT_CHILDREN=2,e.ORDER=64);e.SHIFT_LEN=6,e.LEAF_MIN_CHILDREN=Math.ceil(r/2)-1,e.LEAF_MAX_CHILDREN=r-1,e.INTERNAL_MIN_CHILDREN=Math.ceil(r/2),e.INTERNAL_MAX_CHILDREN=r,e.ITERATOR_PROPNAME="function"==typeof Symbol?Symbol.iterator:"@@iterator"},function(t,e,r){"use strict";function n(){return{}}function i(t,e){return t.ownerID=e,t}function o(t,e){return e&&e===t.ownerID}function s(t,e){return i(e?new Array(e):[],t)}function h(t,e,r,n){var i=r-e;if(o(n,t)){for(var h=e,a=n.length-r;h--;)n.shift();for(;a--;)n.pop();return n}for(var u=s(t,i),l=e;r>l;l++)u[l-e]=n[l];return u}function a(t){for(var e=t.length,r=new Array(e),n=0;e>n;n++)r[n]=t[n];return r}function u(t,e,r){var n=o(r,t)?r:i(a(r),t);return n.splice(e,1),n}function l(t,e,r,n){if(o(n,t))return n.splice(e,0,r),n;for(var i=n.length+1,s=new Array(i),h=0;e>h;h++)s[h]=n[h];for(s[h++]=r;i>h;h++)s[h]=n[h-1];return s}function c(t,e,r,n){var s=o(n,t)?n:i(a(n),t);return s[e]=r,s}function f(t,e){for(var r=a(e),n=e.length,i=0;n>i;i++)r[i]=t(e[i],i);return r}function d(t,e,r){for(var n=r.length,i=e,o=n-e,h=s(t,o),a=s(t,i),u=0;e>u;u++)a[u]=r[u];for(var l=e;n>l;l++)h[l-e]=r[l];return[a,h]}function v(t,e,r){return l(t,0,e,r)}function y(t){return t[t.length-1]}function p(t,e){return o(e,t)?0===e.length?e:(e.pop(),e):e.length<=1?s(t):h(t,0,e.length-1,e)}function g(t,e){return o(e,t)?(e.shift(),e):e.length<=1?i([],t):h(t,1,e.length,e)}function I(){var t={next:function(){return{done:!0}}};return t[R.ITERATOR_PROPNAME]=function(){return t},t}function _(t){var e=arguments.length,r=void 0,n=void 0,i=void 0,o=void 0,s=void 0;for(s=1;e>s;s++)for(r=arguments[s],n=Object.keys(r),o=0;o<n.length;o++)i=n[o],t[i]=r[i];return t}function m(t){return{value:t}}function k(t){t.value=!0}function w(t){return!!t.value}function E(t){return{from:t.from,to:t.to,fromInclusive:t.hasOwnProperty("fromInclusive")?t.fromInclusive:!0,toInclusive:t.hasOwnProperty("toInclusive")?t.toInclusive:!0}}Object.defineProperty(e,"__esModule",{value:!0}),e.boundedChunk=e.takeIdxAndSplit=e.median=void 0,e.makeOwnerID=n,e.tagOwnerID=i,e.canMutate=o,e.slice=h,e.arrayClone=a,e.withoutIdx=u,e.insert=l,e.set=c,e.fastMap=f,e.splitAt=d,e.unshift=v,e.last=y,e.init=p,e.tail=g,e.getEmptyIterator=I,e.extend=_,e.makeRef=m,e.setRef=k,e.isSet=w,e.normalizeRangeSpec=E;var R=r(3);e.median=function(t){return Math.ceil(t/2)},e.takeIdxAndSplit=function(t,e,r){var n=e,i=n,o=h(t,0,i,r),s=h(t,n+1,r.length,r);return[o,r[n],s]},e.boundedChunk=function(t,e,r){var n=r.length;if(!r.length)return[];if(r.length<=e)return[r];for(var i=Math.ceil((t+e)/2),o=n/i,s=Math.ceil(o),h=1/s*n,a=new Array(s),u=0;s>u;u++)a[u]=r.slice(Math.ceil(u*h),Math.ceil((u+1)*h));return a}},function(t,e,r){"use strict";function n(t,e,r){this.shiftLen=t||i.SHIFT_LEN,this.length=e||a,this._path=r||0}Object.defineProperty(e,"__esModule",{value:!0}),e.Path=e.safePathSet=e.clearBitRange=e.pathSet=e.pathGet=e.bitSlice=e.LEVELS=void 0;var i=r(3),o=r(4),s=0,h=31,a=e.LEVELS=Math.floor(h/i.SHIFT_LEN),u=e.bitSlice=function(t,e,r){var n=Math.pow(2,e)-1;return(r&n)>>>t},l=e.pathGet=function(t,e,r){return u(t*e,t*(e+1),r)},c=e.pathSet=function(t,e,r,n){return r|n<<t*e},f=e.clearBitRange=function(t,e,r){var n=e-t,i=Math.pow(2,n)-1;return r&~(i<<t)},d=e.safePathSet=function(t,e,r,n){var i=f(t*e,t*(e+1),r);return c(t,e,i,n)};n.EMPTY_PATH=new n(i.SHIFT_LEN,a,s),n.from=function(t){for(var e=t.length,r=0,o=0;e>o;o++)r=c(i.SHIFT_LEN,o,r,t[o]);return new n(i.SHIFT_LEN,e,r)},(0,o.extend)(n.prototype,{get:function(t){return l(this.shiftLen,t,this._path)},equals:function(t){return this._path===t._path},clearAfter:function(t){for(var e=t+1,r=this;e<this.length;)r=r.set(e,0),e++;return r},toArray:function(){for(var t=new Array(this.length),e=0;e<this.length;e++)t[e]=this.get(e);return t},compareTo:function(t){var e=this._path,r=t._path;return e===r?0:r>e?-1:1},increment:function(t){var e=this.set(t,this.get(t)+1);return e.clearAfter(t)},decrement:function(t){return this.set(t,this.get(t)-1)},set:function(t,e){var r=d(this.shiftLen,t,this._path,e);return new n(this.shiftLen,this.length,r)}}),e.Path=n,e["default"]=n}])});
//# sourceMappingURL=ibtree.min.js.map